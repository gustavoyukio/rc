/*!
 * fancyBox - jQuery Plugin
 * version: 2.1.0 (Mon, 20 Aug 2012)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
;(function(a,b,c,d){"use strict";var e=c(a),f=c(b),g=c.fancybox=function(){g.open.apply(this,arguments)},h=null,i=b.createTouch!==d,j=function(a){return a&&a.hasOwnProperty&&a instanceof c},k=function(a){return a&&c.type(a)==="string"},l=function(a){return k(a)&&a.indexOf("%")>0},m=function(a){return a&&!(a.style.overflow&&a.style.overflow==="hidden")&&(a.clientWidth&&a.scrollWidth>a.clientWidth||a.clientHeight&&a.scrollHeight>a.clientHeight)},n=function(a,b){var c=parseInt(a,10);if(b&&l(a)){c=g.getViewport()[b]/100*c}return Math.ceil(c)},o=function(a,b){return n(a,b)+"px"};c.extend(g,{version:"2.1.0",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:true,autoHeight:false,autoWidth:false,autoResize:!i,autoCenter:!i,fitToView:true,aspectRatio:false,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3e3,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fancyBox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:true,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0"'+(c.browser.msie?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{closeClick:true,speedOut:200,showEarly:true,css:{}},title:{type:"float"}},onCancel:c.noop,beforeLoad:c.noop,afterLoad:c.noop,beforeShow:c.noop,afterShow:c.noop,beforeChange:c.noop,beforeClose:c.noop,afterClose:c.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:false,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,b){if(!a){return}if(!c.isPlainObject(b)){b={}}if(false===g.close(true)){return}if(!c.isArray(a)){a=j(a)?c(a).get():[a]}c.each(a,function(e,f){var h={},i,l,m,n,o,p,q;if(c.type(f)==="object"){if(f.nodeType){f=c(f)}if(j(f)){h={href:f.attr("href"),title:f.attr("title"),isDom:true,element:f};if(c.metadata){c.extend(true,h,f.metadata())}}else{h=f}}i=b.href||h.href||(k(f)?f:null);l=b.title!==d?b.title:h.title||"";m=b.content||h.content;n=m?"html":b.type||h.type;if(!n&&h.isDom){n=f.data("fancybox-type");if(!n){o=f.prop("class").match(/fancybox\.(\w+)/);n=o?o[1]:null}}if(k(i)){if(!n){if(g.isImage(i)){n="image"}else if(g.isSWF(i)){n="swf"}else if(i.charAt(0)==="#"){n="inline"}else if(k(f)){n="html";m=f}}if(n==="ajax"){p=i.split(/\s+/,2);i=p.shift();q=p.shift()}}if(!m){if(n==="inline"){if(i){m=c(k(i)?i.replace(/.*(?=#[^\s]+$)/,""):i)}else if(h.isDom){m=f}}else if(n==="html"){m=i}else if(!n&&!i&&h.isDom){n="inline";m=f}}c.extend(h,{href:i,type:n,content:m,title:l,selector:q});a[e]=h});g.opts=c.extend(true,{},g.defaults,b);if(b.keys!==d){g.opts.keys=b.keys?c.extend({},g.defaults.keys,b.keys):false}g.group=a;return g._start(g.opts.index)},cancel:function(){var a=g.coming;if(!a||false===g.trigger("onCancel")){return}g.hideLoading();if(g.ajaxLoad){g.ajaxLoad.abort()}g.ajaxLoad=null;if(g.imgPreload){g.imgPreload.onload=g.imgPreload.onerror=null}if(a.wrap){a.wrap.stop(true).trigger("onReset").remove()}if(!g.current){g.trigger("afterClose")}g.coming=null},close:function(a){g.cancel();if(false===g.trigger("beforeClose")){return}g.unbindEvents();if(!g.isOpen||a===true){c(".fancybox-wrap").stop(true).trigger("onReset").remove();g._afterZoomOut()}else{g.isOpen=g.isOpened=false;g.isClosing=true;c(".fancybox-item, .fancybox-nav").remove();g.wrap.stop(true,true).removeClass("fancybox-opened");if(g.wrap.css("position")==="fixed"){g.wrap.css(g._getPosition(true))}g.transitions[g.current.closeMethod]()}},play:function(a){var b=function(){clearTimeout(g.player.timer)},d=function(){b();if(g.current&&g.player.isActive){g.player.timer=setTimeout(g.next,g.current.playSpeed)}},e=function(){b();c("body").unbind(".player");g.player.isActive=false;g.trigger("onPlayEnd")},f=function(){if(g.current&&(g.current.loop||g.current.index<g.group.length-1)){g.player.isActive=true;c("body").bind({"afterShow.player onUpdate.player":d,"onCancel.player beforeClose.player":e,"beforeLoad.player":b});d();g.trigger("onPlayStart")}};if(a===true||!g.player.isActive&&a!==false){f()}else{e()}},next:function(a){var b=g.current;if(b){if(!k(a)){a=b.direction.next}g.jumpto(b.index+1,a,"next")}},prev:function(a){var b=g.current;if(b){if(!k(a)){a=b.direction.prev}g.jumpto(b.index-1,a,"prev")}},jumpto:function(a,b,c){var e=g.current;if(!e){return}a=n(a);g.direction=b||e.direction[a>=e.index?"next":"prev"];g.router=c||"jumpto";if(e.loop){if(a<0){a=e.group.length+a%e.group.length}a=a%e.group.length}if(e.group[a]!==d){g.cancel();g._start(a)}},reposition:function(a,b){var c;if(g.isOpen){c=g._getPosition(b);if(a&&a.type==="scroll"){delete c.position;g.wrap.stop(true,true).animate(c,200)}else{g.wrap.css(c)}}},update:function(a){var b=a&&a.type,c=!b||b==="orientationchange";if(c){clearTimeout(h);h=null}if(!g.isOpen||h){return}if(c||i){g.wrap.removeAttr("style").addClass("fancybox-tmp");g.trigger("onUpdate")}h=setTimeout(function(){var c=g.current;if(!c){return}g.wrap.removeClass("fancybox-tmp");if(b!=="scroll"){g._setDimension()}if(!(b==="scroll"&&c.canShrink)){g.reposition(a)}g.trigger("onUpdate");h=null},i?500:c?20:300)},toggle:function(a){if(g.isOpen){g.current.fitToView=c.type(a)==="boolean"?a:!g.current.fitToView;g.update()}},hideLoading:function(){f.unbind("keypress.fb");c("#fancybox-loading").remove()},showLoading:function(){var a,b;g.hideLoading();f.bind("keypress.fb",function(a){if((a.which||a.keyCode)===27){a.preventDefault();g.cancel()}});a=c('<div id="fancybox-loading"><div></div></div>').click(g.cancel).appendTo("body");if(!g.defaults.fixed){b=g.getViewport();a.css({position:"absolute",top:b.h*.5+b.y,left:b.w*.5+b.x})}},getViewport:function(){var b=g.current?g.current.locked:false,c={x:e.scrollLeft(),y:e.scrollTop()};if(b){c.w=b[0].clientWidth;c.h=b[0].clientHeight}else{c.w=i&&a.innerWidth?a.innerWidth:e.width();c.h=i&&a.innerHeight?a.innerHeight:e.height()}return c},unbindEvents:function(){if(g.wrap&&j(g.wrap)){g.wrap.unbind(".fb")}f.unbind(".fb");e.unbind(".fb")},bindEvents:function(){var a=g.current,b;if(!a){return}e.bind("orientationchange.fb"+(i?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),g.update);b=a.keys;if(b){f.bind("keydown.fb",function(e){var f=e.which||e.keyCode,h=e.target||e.srcElement;if(!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&!(h&&(h.type||c(h).is("[contenteditable]")))){c.each(b,function(b,h){if(a.group.length>1&&h[f]!==d){g[b](h[f]);e.preventDefault();return false}if(c.inArray(f,h)>-1){g[b]();e.preventDefault();return false}})}})}if(c.fn.mousewheel&&a.mouseWheel){g.wrap.bind("mousewheel.fb",function(b,d,e,f){var h=b.target||null,i=c(h),j=false;while(i.length){if(j||i.is(".fancybox-skin")||i.is(".fancybox-wrap")){break}j=m(i[0]);i=c(i).parent()}if(d!==0&&!j){if(g.group.length>1&&!a.canShrink){if(f>0||e>0){g.prev(f>0?"down":"left")}else if(f<0||e<0){g.next(f<0?"up":"right")}b.preventDefault()}}})}},trigger:function(a,b){var d,e=b||g.coming||g.current;if(!e){return}if(c.isFunction(e[a])){d=e[a].apply(e,Array.prototype.slice.call(arguments,1))}if(d===false){return false}if(a==="onCancel"&&!g.isOpened){g.isActive=false}if(e.helpers){c.each(e.helpers,function(b,d){if(d&&g.helpers[b]&&c.isFunction(g.helpers[b][a])){g.helpers[b][a](d,e)}})}c.event.trigger(a+".fb")},isImage:function(a){return k(a)&&a.match(/\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$/i)},isSWF:function(a){return k(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var b={},d,e,f,h,j;a=n(a);d=g.group[a]||null;if(!d){return false}b=c.extend(true,{},g.opts,d);h=b.margin;j=b.padding;if(c.type(h)==="number"){b.margin=[h,h,h,h]}if(c.type(j)==="number"){b.padding=[j,j,j,j]}if(b.modal){c.extend(true,b,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{closeClick:false}}})}if(b.autoSize){b.autoWidth=b.autoHeight=true}if(b.width==="auto"){b.autoWidth=true}if(b.height==="auto"){b.autoHeight=true}b.group=g.group;b.index=a;g.coming=b;if(false===g.trigger("beforeLoad")){g.coming=null;return}f=b.type;e=b.href;if(!f){g.coming=null;if(g.current&&g.router&&g.router!=="jumpto"){g.current.index=a;return g[g.router](g.direction)}return false}g.isActive=true;if(f==="image"||f==="swf"){b.autoHeight=b.autoWidth=false;b.scrolling="visible"}if(f==="image"){b.aspectRatio=true}if(f==="iframe"&&i){b.scrolling="scroll"}b.wrap=c(b.tpl.wrap).addClass("fancybox-"+(i?"mobile":"desktop")+" fancybox-type-"+f+" fancybox-tmp "+b.wrapCSS).appendTo(b.parent);c.extend(b,{skin:c(".fancybox-skin",b.wrap),outer:c(".fancybox-outer",b.wrap),inner:c(".fancybox-inner",b.wrap)});c.each(["Top","Right","Bottom","Left"],function(a,c){b.skin.css("padding"+c,o(b.padding[a]))});g.trigger("onReady");if(f==="inline"||f==="html"){if(!b.content||!b.content.length){return g._error("content")}}else if(!e){return g._error("href")}if(f==="image"){g._loadImage()}else if(f==="ajax"){g._loadAjax()}else if(f==="iframe"){g._loadIframe()}else{g._afterLoad()}},_error:function(a){c.extend(g.coming,{type:"html",autoWidth:true,autoHeight:true,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:g.coming.tpl.error});g._afterLoad()},_loadImage:function(){var a=g.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;g.coming.width=this.width;g.coming.height=this.height;g._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;g._error("image")};a.src=g.coming.href;if(a.complete===d||!a.complete){g.showLoading()}},_loadAjax:function(){var a=g.coming;g.showLoading();g.ajaxLoad=c.ajax(c.extend({},a.ajax,{url:a.href,error:function(a,b){if(g.coming&&b!=="abort"){g._error("ajax",a)}else{g.hideLoading()}},success:function(b,c){if(c==="success"){a.content=b;g._afterLoad()}}}))},_loadIframe:function(){var a=g.coming,b=c(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",i?"auto":a.iframe.scrolling).attr("src",a.href);c(a.wrap).bind("onReset",function(){try{c(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}});if(a.iframe.preload){g.showLoading();b.one("load",function(){c(this).data("ready",1);if(!i){c(this).bind("load.fb",g.update)}c(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();g._afterLoad()})}a.content=b.appendTo(a.inner);if(!a.iframe.preload){g._afterLoad()}},_preloadImages:function(){var a=g.group,b=g.current,c=a.length,d=b.preload?Math.min(b.preload,c-1):0,e,f;for(f=1;f<=d;f+=1){e=a[(b.index+f)%c];if(e.type==="image"&&e.href){(new Image).src=e.href}}},_afterLoad:function(){var a=g.coming,b=g.current,d="fancybox-placeholder",e,f,h,i,k,l;g.hideLoading();if(!a||g.isActive===false){return}if(false===g.trigger("afterLoad",a,b)){a.wrap.stop(true).trigger("onReset").remove();g.coming=null;return}if(b){g.trigger("beforeChange",b);b.wrap.stop(true).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove();if(b.wrap.css("position")==="fixed"){b.wrap.css(g._getPosition(true))}}g.unbindEvents();e=a;f=a.content;h=a.type;i=a.scrolling;c.extend(g,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:b});k=e.href;switch(h){case"inline":case"ajax":case"html":if(e.selector){f=c("<div>").html(f).find(e.selector)}else if(j(f)){if(!f.data(d)){f.data(d,c('<div class="'+d+'"></div>').insertAfter(f).hide())}f=f.show().detach();e.wrap.bind("onReset",function(){if(c(this).find(f).length){f.hide().replaceAll(f.data(d)).data(d,false)}})}break;case"image":f=e.tpl.image.replace("{href}",k);break;case"swf":f='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+k+'"></param>';l="";c.each(e.swf,function(a,b){f+='<param name="'+a+'" value="'+b+'"></param>';l+=" "+a+'="'+b+'"'});f+='<embed src="'+k+'" type="application/x-shockwave-flash" width="100%" height="100%"'+l+"></embed></object>";break}if(!(j(f)&&f.parent().is(e.inner))){e.inner.append(f)}g.trigger("beforeShow");e.inner.css("overflow",i==="yes"?"scroll":i==="no"?"hidden":i);g._setDimension();e.wrap.removeClass("fancybox-tmp");e.pos=c.extend({},e.dim,g._getPosition(true));g.isOpen=false;g.coming=null;g.bindEvents();if(!g.isOpened){c(".fancybox-wrap").not(e.wrap).stop(true).trigger("onReset").remove()}else if(b.prevMethod){g.transitions[b.prevMethod]()}g.transitions[g.isOpened?e.nextMethod:e.openMethod]();g._preloadImages()},_setDimension:function(){var a=g.getViewport(),b=0,d=false,e=false,f=g.wrap,h=g.skin,i=g.inner,j=g.current,k=j.width,m=j.height,p=j.minWidth,q=j.minHeight,r=j.maxWidth,s=j.maxHeight,t=j.scrolling,u=j.scrollOutside?j.scrollbarWidth:0,v=j.margin,w=v[1]+v[3],x=v[0]+v[2],y,z,A,B,C,D,E,G,H,I,J,K,L,M,N;f.add(h).add(i).width("auto").height("auto");y=h.outerWidth(true)-h.width();z=h.outerHeight(true)-h.height();A=w+y;B=x+z;C=l(k)?(a.w-A)*n(k)/100:k;D=l(m)?(a.h-B)*n(m)/100:m;if(j.type==="iframe"){M=j.content;if(j.autoHeight&&M.data("ready")===1){try{if(M[0].contentWindow.document.location){i.width(C).height(9999);N=M.contents().find("body");if(u){N.css("overflow-x","hidden")}D=N.height()}}catch(O){}}}else if(j.autoWidth||j.autoHeight){i.addClass("fancybox-tmp");if(!j.autoWidth){i.width(C)}if(!j.autoHeight){i.height(D)}if(j.autoWidth){C=i.width()}if(j.autoHeight){D=i.height()}i.removeClass("fancybox-tmp")}k=n(C);m=n(D);H=C/D;p=n(l(p)?n(p,"w")-A:p);r=n(l(r)?n(r,"w")-A:r);q=n(l(q)?n(q,"h")-B:q);s=n(l(s)?n(s,"h")-B:s);E=r;G=s;K=a.w-w;L=a.h-x;if(j.aspectRatio){if(k>r){k=r;m=k/H}if(m>s){m=s;k=m*H}if(k<p){k=p;m=k/H}if(m<q){m=q;k=m*H}}else{k=Math.max(p,Math.min(k,r));m=Math.max(q,Math.min(m,s))}if(j.fitToView){r=Math.min(a.w-A,r);s=Math.min(a.h-B,s);i.width(n(k)).height(n(m));f.width(n(k+y));I=f.width();J=f.height();if(j.aspectRatio){while((I>K||J>L)&&k>p&&m>q){if(b++>19){break}m=Math.max(q,Math.min(s,m-10));k=m*H;if(k<p){k=p;m=k/H}if(k>r){k=r;m=k/H}i.width(n(k)).height(n(m));f.width(n(k+y));I=f.width();J=f.height()}}else{k=Math.max(p,Math.min(k,k-(I-K)));m=Math.max(q,Math.min(m,m-(J-L)))}}if(u&&t==="auto"&&m<D&&k+y+u<K){k+=u}i.width(n(k)).height(n(m));f.width(n(k+y));I=f.width();J=f.height();d=(I>K||J>L)&&k>p&&m>q;e=j.aspectRatio?k<E&&m<G&&k<C&&m<D:(k<E||m<G)&&(k<C||m<D);c.extend(j,{dim:{width:o(I),height:o(J)},origWidth:C,origHeight:D,canShrink:d,canExpand:e,wPadding:y,hPadding:z,wrapSpace:J-h.outerHeight(true),skinSpace:h.height()-m});if(!M&&j.autoHeight&&m>q&&m<s&&!e){i.height("auto")}},_getPosition:function(a){var b=g.current,c=g.getViewport(),d=b.margin,e=g.wrap.width()+d[1]+d[3],f=g.wrap.height()+d[0]+d[2],h={position:"absolute",top:d[0],left:d[3]};if(b.autoCenter&&b.fixed&&!a&&f<=c.h&&e<=c.w){h.position="fixed"}else if(!b.locked){h.top+=c.y;h.left+=c.x}h.top=o(Math.max(h.top,h.top+(c.h-f)*b.topRatio));h.left=o(Math.max(h.left,h.left+(c.w-e)*b.leftRatio));return h},_afterZoomIn:function(){var a=g.current;if(!a){return}g.isOpen=g.isOpened=true;g.wrap.addClass("fancybox-opened").css("overflow","visible");g.reposition();if(a.closeClick||a.nextClick){g.inner.css("cursor","pointer").bind("click.fb",function(b){if(!c(b.target).is("a")&&!c(b.target).parent().is("a")){g[a.closeClick?"close":"next"]()}})}if(a.closeBtn){c(a.tpl.closeBtn).appendTo(g.skin).bind("click.fb",g.close)}if(a.arrows&&g.group.length>1){if(a.loop||a.index>0){c(a.tpl.prev).appendTo(g.outer).bind("click.fb",g.prev)}if(a.loop||a.index<g.group.length-1){c(a.tpl.next).appendTo(g.outer).bind("click.fb",g.next)}}g.trigger("afterShow");if(!a.loop&&a.index===a.group.length-1){g.play(false)}else if(g.opts.autoPlay&&!g.player.isActive){g.opts.autoPlay=false;g.play()}},_afterZoomOut:function(){var a=g.current;c(".fancybox-wrap").stop(true).trigger("onReset").remove();c.extend(g,{group:{},opts:{},router:false,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,outer:null,inner:null});g.trigger("afterClose",a)}});g.transitions={getOrigPosition:function(){var a=g.current,b=a.element,c=a.orig,d={},e=50,f=50,h=a.hPadding,i=a.wPadding,k=g.getViewport();if(!c&&a.isDom&&b.is(":visible")){c=b.find("img:first");if(!c.length){c=b}}if(j(c)){d=c.offset();if(c.is("img")){e=c.outerWidth();f=c.outerHeight()}}else{d.top=k.y+(k.h-f)*a.topRatio;d.left=k.x+(k.w-e)*a.leftRatio}if(a.locked){d.top-=k.y;d.left-=k.x}d={top:o(d.top-h*a.topRatio),left:o(d.left-i*a.leftRatio),width:o(e+i),height:o(f+h)};return d},step:function(a,b){var c,d,e,f=b.prop,h=g.current,i=h.wrapSpace,j=h.skinSpace;if(f==="width"||f==="height"){c=b.end===b.start?1:(a-b.start)/(b.end-b.start);if(g.isClosing){c=1-c}d=f==="width"?h.wPadding:h.hPadding;e=a-d;g.skin[f](n(f==="width"?e:e-i*c));g.inner[f](n(f==="width"?e:e-i*c-j*c))}},zoomIn:function(){var a=g.current,b=a.pos,d=a.openEffect,e=d==="elastic",f=c.extend({opacity:1},b);delete f.position;if(e){b=this.getOrigPosition();if(a.openOpacity){b.opacity=.1}}else if(d==="fade"){b.opacity=.1}g.wrap.css(b).animate(f,{duration:d==="none"?0:a.openSpeed,easing:a.openEasing,step:e?this.step:null,complete:g._afterZoomIn})},zoomOut:function(){var a=g.current,b=a.closeEffect,c=b==="elastic",d={opacity:.1};if(c){d=this.getOrigPosition();if(a.closeOpacity){d.opacity=.1}}g.wrap.animate(d,{duration:b==="none"?0:a.closeSpeed,easing:a.closeEasing,step:c?this.step:null,complete:g._afterZoomOut})},changeIn:function(){var a=g.current,b=a.nextEffect,c=a.pos,d={opacity:1},e=g.direction,f=200,h;c.opacity=.1;if(b==="elastic"){h=e==="down"||e==="up"?"top":"left";if(e==="down"||e==="right"){c[h]=o(n(c[h])-f);d[h]="+="+f+"px"}else{c[h]=o(n(c[h])+f);d[h]="-="+f+"px"}}if(b==="none"){g._afterZoomIn()}else{g.wrap.css(c).animate(d,{duration:a.nextSpeed,easing:a.nextEasing,complete:g._afterZoomIn})}},changeOut:function(){var a=g.previous,b=a.prevEffect,d={opacity:.1},e=g.direction,f=200;if(b==="elastic"){d[e==="down"||e==="up"?"top":"left"]=(e==="up"||e==="left"?"-":"+")+"="+f+"px"}a.wrap.animate(d,{duration:b==="none"?0:a.prevSpeed,easing:a.prevEasing,complete:function(){c(this).trigger("onReset").remove()}})}};g.helpers.overlay={overlay:null,update:function(){var a="100%",d;this.overlay.width(a).height("100%");if(c.browser.msie){d=Math.max(b.documentElement.offsetWidth,b.body.offsetWidth);if(f.width()>d){a=f.width()}}else if(f.width()>e.width()){a=f.width()}this.overlay.width(a).height(f.height())},onReady:function(a,d){c(".fancybox-overlay").stop(true,true);if(!this.overlay){c.extend(this,{overlay:c('<div class="fancybox-overlay"></div>').appendTo(d.parent),margin:f.height()>e.height()||c("body").css("overflow-y")==="scroll"?c("body").css("margin-right"):false,el:b.all&&!b.querySelector?c("html"):c("body")})}if(d.fixed&&!i){this.overlay.addClass("fancybox-overlay-fixed");if(d.autoCenter){this.overlay.append(d.wrap);d.locked=this.overlay}}if(a.showEarly===true){this.beforeShow.apply(this,arguments)}},beforeShow:function(a,b){var d=this.overlay.unbind(".fb").width("auto").height("auto").css(a.css);if(a.closeClick){d.bind("click.fb",function(a){if(c(a.target).hasClass("fancybox-overlay")){g.close()}})}if(b.fixed&&!i){if(b.locked){this.el.addClass("fancybox-lock");if(this.margin!==false){c("body").css("margin-right",n(this.margin)+b.scrollbarWidth)}}}else{this.update()}d.show()},onUpdate:function(a,b){if(!b.fixed||i){this.update()}},afterClose:function(a){var b=this,d=a.speedOut||0;if(b.overlay&&!g.isActive){b.overlay.fadeOut(d||0,function(){c("body").css("margin-right",b.margin);b.el.removeClass("fancybox-lock");b.overlay.remove();b.overlay=null})}}};g.helpers.title={beforeShow:function(a){var b=g.current.title,d=a.type,e,f;if(!k(b)||c.trim(b)===""){return}e=c('<div class="fancybox-title fancybox-title-'+d+'-wrap">'+b+"</div>");switch(d){case"inside":f=g.skin;break;case"outside":f=g.wrap;break;case"over":f=g.inner;break;default:f=g.skin;e.appendTo("body").width(e.width()).wrapInner('<span class="child"></span>');g.current.margin[2]+=Math.abs(n(e.css("margin-bottom")));break}if(a.position==="top"){e.prependTo(f)}else{e.appendTo(f)}}};c.fn.fancybox=function(a){var b,d=c(this),e=this.selector||"",h=function(f){var h=c(this).blur(),i=b,j,k;if(!(f.ctrlKey||f.altKey||f.shiftKey||f.metaKey)&&!h.is(".fancybox-wrap")){j=a.groupAttr||"data-fancybox-group";k=h.attr(j);if(!k){j="rel";k=h.get(0)[j]}if(k&&k!==""&&k!=="nofollow"){h=e.length?c(e):d;h=h.filter("["+j+'="'+k+'"]');i=h.index(this)}a.index=i;if(g.open(h,a)!==false){f.preventDefault()}}};a=a||{};b=a.index||0;if(!e||a.live===false){d.unbind("click.fb-start").bind("click.fb-start",h)}else{f.undelegate(e,"click.fb-start").delegate(e+":not('.fancybox-item, .fancybox-nav')","click.fb-start",h)}return this};f.ready(function(){if(c.scrollbarWidth===d){c.scrollbarWidth=function(){var a=c('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),d=b.innerWidth()-b.height(99).innerWidth();a.remove();return d}}if(c.support.fixedPosition===d){c.support.fixedPosition=function(){var a=c('<div style="position:fixed;top:20px;"></div>').appendTo("body"),b=a[0].offsetTop===20||a[0].offsetTop===15;a.remove();return b}()}c.extend(g.defaults,{scrollbarWidth:c.scrollbarWidth(),fixed:c.support.fixedPosition,parent:c("body")})})})(window,document,jQuery)